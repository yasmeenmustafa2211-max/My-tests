<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار أصول الفقه - المستوى المتقدم</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .question-number {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .question-text {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        .options-list {
            list-style: none;
            padding: 0;
        }
        .option-item {
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            font-size: 16px;
        }
        .option-item:hover {
            background: #eef2f5;
        }
        .correct-answer {
            background-color: #d4edda !important;
            border-color: #c3e6cb !important;
            color: #155724;
        }
        .wrong-answer {
            background-color: #fff3cd !important;
            border-color: #ffeeba !important;
            color: #856404;
        }
        .disabled {
            pointer-events: none;
        }
        .explanation {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f4f8;
            border-right: 5px solid #17a2b8;
            border-radius: 5px;
            font-size: 15px;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        .btn {
            padding: 10px 25px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #007bff;
            color: #fff;
            transition: 0.3s;
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <div class="question-number" id="q-number">السؤال 1 من 15</div>
    <div class="question-text" id="q-text">جاري تحميل السؤال...</div>
    
    <ul class="options-list" id="options">
        <!-- الخيارات تدرج هنا عبر الجافاسكربت -->
    </ul>

    <div class="explanation" id="explanation">
        <strong>التفسير/التصويب: </strong> <span id="exp-text"></span>
    </div>

    <div class="nav-buttons">
        <button class="btn" id="next-btn" onclick="nextQuestion()">التالي</button>
        <button class="btn" id="prev-btn" onclick="prevQuestion()" disabled>السابق</button>
    </div>
</div>

<script>
    const quizData = [
        {
            question: "شخص ترك فعل معصية لم يكن يعلم بوجودها أصلاً، وآخر عُرضت عليه فتركها خوفاً من الله. ما الحكم الأصولي الدقيق في حقهما بناءً على تعريف المحرّم؟",
            options: [
                "الأول والثاني يُثابان على الترك لأن النتيجة واحدة وهي عدم الوقوع في الحرام.",
                "لا يُثاب الأول لأنه لم يتركها امتثالاً وتعبداً، بينما يُثاب الثاني لتوفر النية.",
                "يُعاقب الأول على جهله بالمعصية، ويُثاب الثاني على تركها.",
                "كلاهما لا يُثاب إلا إذا كان الترك مقروناً بفعل مأمور به."
            ],
            correctIndex: 1,
            explanation: "لأن المحرم يُثاب تاركه 'امتثالاً' أي تعبداً لله بوجود النية. من ترك معصية لا يعرفها أصلاً لا يتخيل فيه الثواب على الترك لعدم الامتثال [المصدر: 7، 8]."
        },
        {
            question: "أي من العبارات التالية تمثل القاعدة الأصولية السليمة في التعامل مع الألفاظ (كالحرام والمكروه) الواردة في آيات القرآن الكريم والسنة النبوية؟",
            options: [
                "يجب تفسيرها بالمعاني الاصطلاحية الدقيقة المتأخرة لتجنب الخلاف الفقهي.",
                "المعاني الاصطلاحية أوسع من اللغوية، لذا تُحمل النصوص على الاصطلاح الأصولي.",
                "تُعامل بالمعاني اللغوية بلسان العرب المستعمل، ولا تُسقط عليها المعاني الاصطلاحية للمتأخرين.",
                "لا يجوز إطلاق لفظ 'مكروه' على الكبائر والموبقات في نصوص الوحي بأي حال."
            ],
            correctIndex: 2,
            explanation: "لا ينبغي إسقاط النصوص الشرعية بالمعاني الاصطلاحية، بل تعامل باللغوية لأنها نزلت بلسان العرب وليس بلسان الأصوليين، فالمعاني اللغوية أوسع كإطلاق لفظ (مكروه) في القرآن على كبائر الذنوب [المصدر: 2، 12]."
        },
        {
            question: "ترك صلاة الضحى عند الشافعية لا يُسمى 'مكروهاً'. ما هو التوصيف الدقيق له في مصطلحهم، وما علة ذلك؟",
            options: [
                "كراهة إرشادية؛ لأن النهي فيها لمقصد دنيوي.",
                "مباح؛ لأنه لم يرد فيه نهي مقصود، ولا يثاب تاركه.",
                "خلاف الأولى؛ لأنه لم يرد فيه نهي مقصود، وهو واسطة بين الإباحة والكراهة.",
                "كراهة تنزيهية؛ لأن أصلها التحريم وعرض عليها ما يحللها."
            ],
            correctIndex: 2,
            explanation: "المكروه عند الشافعية يجب أن يرد فيه نهي مقصود، أما ما لم يرد فيه نهي مقصود كترك صلاة الضحى فيسمى عندهم 'خلاف الأولى' وهو واسطة بين الكراهة والإباحة [المصدر: 24، 25، 26]."
        },
        {
            question: "في الفقه الحنفي، إذا أردنا التفريق بين 'التحريم' و'الكراهة التحريمية'، فإن المدار الأساسي في هذا التفريق يعود إلى:",
            options: [
                "مدى عقوبة الفاعل يوم القيامة.",
                "قوة الدليل، فالتحريم يثبت بقطعي، والكراهة التحريمية تثبت بضمني.",
                "طبيعة الفعل، فما كان أصله الإباحة فهو تحريم، وما أصله المنع فهو كراهة.",
                "لا فرق بينهما عند الحنفية، فكلاهما يأثم فاعله ولا يثاب تاركه."
            ],
            correctIndex: 1,
            explanation: "الفرق عند الحنفية كالفارق بين الفرض والواجب؛ التحريم ما ثبت بدليل قطعي، والكراهة التحريمية ما ثبت بدليل ضمني [المصدر: 30، 31]."
        },
        {
            question: "رجل سافر سفراً طويلاً قاصداً ارتكاب معصية. وفقاً للقواعد الأصولية المذكورة للمباح، أي العبارات التالية تصف حالة هذا السفر وصفاً دقيقاً؟",
            options: [
                "السفر تحول في ذاته إلى محرم، وخرج عن كونه مباحاً من كل وجه.",
                "السفر محرم لغيره لكونه وسيلة، ولكن هذا لا يُخرجه عن أصله في كونه مباحاً (لذاته).",
                "السفر مكروه تحريماً لانتفاء النية الصالحة.",
                "السفر فاسد لأنه اختلت فيه شروط الصحة الشرعية."
            ],
            correctIndex: 1,
            explanation: "المباح هو ما لا يتعلق به أمر ولا نهي (لذاته). وإذا كان وسيلة لمحرم فهو محرم، لكن هذا لا ينقله في ماهيته وأصله عن كونه مباحاً في ذاته [المصدر: 34، 36]."
        },
        {
            question: "حسب ما قُرّر في 'الأحكام الوضعية'، إذا باع شخص سلعة وهو يجهل تماماً ما بداخلها للمشتري بالتراضي الكامل (المعاطاة)، فإن هذا العقد يُحكم عليه بـ:",
            options: [
                "الفساد؛ لاختلال شرط من شروط العقد وهو 'بيع المعلوم'.",
                "الصحة؛ لانتفاء الموانع وتوفر التراضي الكامل بين الطرفين.",
                "البطلان؛ لوجود مانع شرعي يتمثل في النهي عن المعاطاة.",
                "الوقف؛ حتى يعلم المشتري بالسلعة ثم يقرر."
            ],
            correctIndex: 0,
            explanation: "بيع المجهول هو بيع فاسد لا تترتب عليه آثاره (التملك)، لفقده شرطاً من شروط البيع وهو أن يكون المبيع معلوماً، حتى لو تم برضا ومعاطاة لنهي النبي ﷺ عن بيع المجهول وما لا تملك [المصدر: 44، 45، 58]."
        },
        {
            question: "الفرق بين (الباطل) و(الفاسد) منعدم عند جماهير فقهاء الحنابلة إلا في موضعين. بناءً على ذلك، لو ارتدّ شخصٌ أثناء إحرامه، وآخر جامَعَ أهله قبل التحلل الأول، فما التوصيف الفقهي الدقيق لهما؟",
            options: [
                "كلاهما باطل؛ لأن الردة والجماع يبطلان أصل العبادة.",
                "كلاهما فاسد؛ لوقوع الخلاف في حكمهما.",
                "الأول إحرامه باطل (للردة)، والثاني إحرامه فاسد (للجماع).",
                "الأول إحرامه فاسد (للردة)، والثاني إحرامه باطل (للجماع)."
            ],
            correctIndex: 2,
            explanation: "فرّق الحنابلة بينهما في الإحرام؛ فالردة تبطل أصل العبادة (باطل)، بينما الوقاع يفسد الإحرام وله أحكام خاصة (فاسد) ولا يبطل أصل العبادة [المصدر: 62]."
        },
        {
            question: "يُعرّف الأصوليون (الجهل المركب) بأنه إدراك الشيء على وجه يخالف ما هو عليه. أي من الحالات التالية يمثل جهلاً مركباً؟",
            options: [
                "عالم يجتهد في مسألة فقهية ويغلب على ظنه حكماً معيناً بنسبة 70%.",
                "شخص يُسأل عن أركان الصلاة فيجيب بصيغة حاسمة وخاطئة بناءً على وهم.",
                "شخص يُسأل متى كانت غزوة بدر فيقول بوضوح 'لا أدري'.",
                "طالب يشك في إجابته في الاختبار وتتساوى عنده الاحتمالات 50%."
            ],
            correctIndex: 1,
            explanation: "الجهل المركب هو إدراك الشيء على غير ما هو عليه (مع الجزم به والجهل بأنه يجهل). بينما غلبة الظن تسمى (ظناً)، وتساوي الاحتمالات (شك)، وقول 'لا أدري' (جهل بسيط) [المصدر: 72، 73، 77]."
        },
        {
            question: "إذا وصل المجتهد إلى حكم شرعي بناءً على 'غلبة الظن'. فكيف يُقيّم هذا الإدراك في كلٍ من (نصوص الوحي) و (اصطلاح المناطقة والأصوليين) على التوالي؟",
            options: [
                "في نصوص الوحي يعتبر: وهماً / وفي المنطق: يقيناً.",
                "في نصوص الوحي يعتبر: علماً / وفي المنطق والأصول: ظناً.",
                "في نصوص الوحي يعتبر: شكاً / وفي المنطق والأصول: علماً ضرورياً.",
                "كلاهما يعتبرانه ظناً مذموماً لا يجوز بناء الأحكام عليه."
            ],
            correctIndex: 1,
            explanation: "غلبة الظن عند الفقهاء وفي نصوص الوحي تدخل في 'العلم' ويؤجر المجتهد عليها ولا يشترط اليقين الرياضي الجازم. بينما عند المناطقة والأصوليين، إدراك الشيء مع احتمال ضد مرجوح (70%) يُسمى حصراً 'ظناً' [المصدر: 78]."
        },
        {
            question: "ما وجه الدقة في استخدام الشيخ لتعبير 'يستحق العقاب فاعله' في تعريف المحرّم بدلاً من 'يُعاقب فاعله'؟",
            options: [
                "لأن العقاب يقتصر فقط على من كفر، أما فاعل المحرم من المسلمين فلا يُعاقب أبداً.",
                "لأنها توافق طريقة المعتزلة في حتمية العقاب.",
                "لأن فاعل المحرم تحت المشيئة؛ إن شاء الله عذبه وإن شاء غفر له، فلا يُجزم بتعذيبه.",
                "لأن العقاب مقترن بالمكروه وليس بالمحرم."
            ],
            correctIndex: 2,
            explanation: "قول 'يستحق العقاب' أصح من 'يعاقب'، لأن الفاعل قد لا يعاقب بل يكون في مشيئة الله إن شاء عذبه وإن شاء غفر له كما تقرر عقيدة أهل السنة [المصدر: 9، 10، 11]."
        },
        {
            question: "شخص تطوع بنفلٍ مطلق بعد صلاة العصر (وقت نهي). كيف يطبق الأصوليون مفهوم (استيفاء الشروط وانتفاء الموانع) للحكم بـ 'بطلان' هذه الصلاة؟",
            options: [
                "بطلت الصلاة لعدم استيفاء شرط النية.",
                "بطلت الصلاة لوجود مانع من العبادة، وهو إيقاعها في وقت النهي.",
                "بطلت الصلاة لانعدام الركن، فالوقت ركن وليس مانعاً.",
                "الصلاة صحيحة وليست باطلة لأنها نفل مطلق."
            ],
            correctIndex: 1,
            explanation: "لا يكون الشيء صحيحاً إلا بانتفاء موانعه. والتطوع بنفل مطلق في وقت النهي هو مثال لوجود (المانع) في العبادة مما يمتنع معه الحكم بالصحة [المصدر: 52، 53، 54، 55]."
        },
        {
            question: "لماذا اعتبر فقهاء الحنفية سؤر الهرة (لعابها وما تبقى من شربها) داخلاً في 'الكراهة التنزيهية' وليس مباحاً أو محرمًا؟",
            options: [
                "لأن أصله الحل، وعرض عليه ما يحرّمه بسبب طوافها.",
                "لأن أصله التحريم (كونه نجاسة)، وعرض عليه ما يحلله لمشقة التحرز (طوافات).",
                "لأنه ثبت بدليل قطعي لا يحتمل التأويل.",
                "لأن الإجماع انعقد على نجاسته."
            ],
            correctIndex: 1,
            explanation: "الكراهة التنزيهية عند الحنفية: ما كان أصله التحريم وعرض عليه ما يحلله. كسؤر الهرة الذي هو في الأصل من النجاسات (تحريم) ولكن عُفي عنه لمشقة التحرز لقوله ﷺ (إنها من الطوافين عليكم) [المصدر: 28، 29]."
        },
        {
            question: "رجل عقد قرانه على امرأة معتدة من طلاق بائن، ورجل آخر عقد قرانه بلا ولي. عند الحنابلة، كيف يُحكم على العقدين ولماذا؟",
            options: [
                "الأول باطل للإجماع على بطلانه، والثاني فاسد لوقوع الخلاف السائغ فيه.",
                "الأول فاسد لجهله بالعدة، والثاني باطل لاختلال الركن.",
                "كلاهما باطل لمخالفة النص الشرعي القطعي.",
                "كلاهما فاسد لأنهما لم يستوفيا شروط صحة العقد."
            ],
            correctIndex: 0,
            explanation: "نكاح المعتدة (باطل) لأن الإجماع قائم على بطلانه. أما النكاح بلا ولي فهو (فاسد) لأن العلماء اختلفوا في فساده (كأبي حنيفة) فهو خلاف وإن قيل بشذوذه [المصدر: 63، 64]."
        },
        {
            question: "عندما يذكر الأصوليون في مطولاتهم مصطلحات وتقاسيم معينة، فإن الفقهاء (الفروعيين):",
            options: [
                "يلتزمون بها التزاماً حرفياً في جميع العصور بلا استثناء.",
                "يرفضونها تماماً ويعتمدون فقط على المصطلحات اللغوية.",
                "الغالب أنهم يلتزمون بها خصوصاً عند المتأخرين، بينما لا يلتزم بها المتقدمون التزاماً شديداً.",
                "يطبقونها فقط في العبادات دون المعاملات."
            ],
            correctIndex: 2,
            explanation: "الغالب أن المتأخرين يلتزمون بالمصطلحات الأصولية، بينما المتقدمون (كالأئمة الأربعة) لم يلتزموا بها التزاماً شديداً، وقد لا نجد تطابقاً كاملاً دائماً بين مصطلح الأصولي واستعمال الفقيه [المصدر: 66]."
        },
        {
            question: "قسّم العلماء العلم إلى (ضروري) و(نظري). أي من الثنائيات التالية تعتبر مثالاً دقيقاً على التوالي (ضروري / نظري)؟",
            options: [
                "إدراك أن الكل أكبر من الجزء / إيمان المسلم بأن محمد رسول الله.",
                "العلم بوجوب النية في الصلاة / العلم بتحريم الربا.",
                "الإيمان الفطري بوجود إله واحد / العلم التفصيلي بالأحكام الفقهية كوجوب الزكاة.",
                "إدراك أن النار حارة / الإقرار بجهل الإنسان متى كانت غزوة بدر."
            ],
            correctIndex: 2,
            explanation: "العلم الضروري يُضطر إليه من غير نظر (كالإيمان الفطري بوجود الخالق). والعلم النظري يحتاج لنظر واستدلال (كالعلم التفصيلي بالأحكام كالزكاة والربا والنية) [المصدر: 80، 81، 82، 83]."
        }
    ];

    let currentQuestion = 0;

    function loadQuestion() {
        const qData = quizData[currentQuestion];
        document.getElementById('q-number').innerText = `السؤال ${currentQuestion + 1} من ${quizData.length}`;
        document.getElementById('q-text').innerText = qData.question;
        
        const optionsList = document.getElementById('options');
        optionsList.innerHTML = '';
        
        qData.options.forEach((opt, index) => {
            const li = document.createElement('li');
            li.className = 'option-item';
            li.innerText = opt;
            li.onclick = () => checkAnswer(index, li);
            optionsList.appendChild(li);
        });

        document.getElementById('explanation').style.display = 'none';
        
        // تحديث حالة الأزرار
        document.getElementById('prev-btn').disabled = currentQuestion === 0;
        document.getElementById('next-btn').disabled = currentQuestion === quizData.length - 1;
    }

    function checkAnswer(selectedIndex, selectedElement) {
        const qData = quizData[currentQuestion];
        const allOptions = document.querySelectorAll('.option-item');
        
        // تعطيل جميع الخيارات بعد الاختيار
        allOptions.forEach(opt => opt.classList.add('disabled'));

        if (selectedIndex === qData.correctIndex) {
            selectedElement.classList.add('correct-answer');
        } else {
            selectedElement.classList.add('wrong-answer');
            // تظليل الإجابة الصحيحة
            allOptions[qData.correctIndex].classList.add('correct-answer');
        }

        // إظهار التفسير
        document.getElementById('exp-text').innerText = qData.explanation;
        document.getElementById('explanation').style.display = 'block';
    }

    function nextQuestion() {
        if (currentQuestion < quizData.length - 1) {
            currentQuestion++;
            loadQuestion();
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            loadQuestion();
        }
    }

    // تحميل السؤال الأول عند بدء الصفحة
    window.onload = loadQuestion;
</script>

</body>
</html>